{"version":3,"sources":["webpack:///./src/assets/imgs/no-images.jpg","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./src/views/conversation.vue?852b","webpack:///./src/modules/conversation/index.vue?fb83","webpack:///./src/modules/conversation/_api/index.js","webpack:///./src/modules/conversation/_store/actions.js","webpack:///./src/modules/conversation/_store/getters.js","webpack:///./src/modules/conversation/_store/mutations.js","webpack:///./src/modules/conversation/_store/index.js","webpack:///./src/modules/conversation/_components/conversationList.vue?4c56","webpack:///src/modules/conversation/_components/conversationList.vue","webpack:///./src/modules/conversation/_components/conversationList.vue?1bb6","webpack:///./src/modules/conversation/_components/conversationList.vue","webpack:///./src/modules/conversation/_components/chatBox.vue?45e5","webpack:///src/modules/conversation/_components/chatBox.vue","webpack:///./src/modules/conversation/_components/chatBox.vue?b510","webpack:///./src/modules/conversation/_components/chatBox.vue","webpack:///src/modules/conversation/index.vue","webpack:///./src/modules/conversation/index.vue?7447","webpack:///./src/modules/conversation/index.vue","webpack:///src/views/conversation.vue","webpack:///./src/views/conversation.vue?36da","webpack:///./src/views/conversation.vue"],"names":["module","exports","$","$indexOf","indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","target","proto","forced","searchElement","apply","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","dataConversation","userList","conversationDetail","getListConversation","pageIndex","pageSize","query","Vue","prototype","$http","post","getUserList","get","getMessageOfConversation","conversationId","sendMessage","request","createConversation","uploadImage","formData","FormData","append","headers","getStickerList","context","api","state","searchRequest","response","commit","data","getConversationDetail","localStorage","setItem","conversationRequest","setUserInfoConversation","listConversation","_","map","v","participantOject","participant","JSON","parse","replace","filter","x","getItem","userInfo","find","o","id","isRead","latestMessenger","currentDate","moment","Date","format","userId","ownMessage","isToday","createdAt","slice","reverse","stickerList","SET_LIST_CONVERSATION","messages","total","SET_CONVERSATION_DETAIL","SET_USER_INFO_CONVERSATION","userInfoConversation","SET_CONVERSATION_FOCUS","SET_USER_LIST","SET_STICKER_LIST","namespaced","actions","getters","mutations","_v","model","value","callback","$$v","search","expression","slot","on","handleScroll","_l","item","index","key","class","$event","avatar","style","backgroundImage","NoAvatar","_s","fullName","latestMessage","newMessage","_e","createConversationDetail","_this","stringify","exist","push","component","rightInfo","userInfoOfConversation","collapse","show","ref","type","image","content","directives","name","rawName","domProps","composing","$set","modalImageChat","removeImage","path","modalSticker","closeModalStickerChat","icon","sendSticker","handleModalSticker","staticStyle","handleFileUpload","sendMail","phoneNumber","console","log","val","modalStickerChat","components","commonData","computed","methods","Conversation"],"mappings":"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","file":"js/chunk-74915e42.72492695.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/no-images.a9a1e5e3.jpg\";","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-menu',{attrs:{\"params\":\"route: route\"}}),_c('div',{staticClass:\"container-fluid my-3\"},[_c('Conversation')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3 pr-0\"},[_c('conversation-list',{attrs:{\"list-conversation\":_vm.dataConversation,\"list-user\":_vm.userList}})],1),_c('div',{staticClass:\"col-9 pl-0\"},[_c('chat-box',{attrs:{\"user-chat\":_vm.conversationDetail}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\r\n\r\nconst getListConversation = async (pageIndex, pageSize) => {\r\n    var query = { \"PageIndex\": pageIndex, \"PageSize\": pageSize};\r\n    return Vue.prototype.$http.post(`/api/conversation/getListConversationOfUser`, query);\r\n}\r\n\r\nconst getUserList = async () => {\r\n  return Vue.prototype.$http.get(`/api/company/getRelatedUser`);\r\n}\r\n\r\nconst getMessageOfConversation = async (pageIndex, pageSize, conversationId) => {\r\n  var query = { \"PageIndex\": pageIndex, \"PageSize\": pageSize, \"Title\": conversationId};\r\n  return Vue.prototype.$http.post(`/api/conversation/getMessageOfConversation`, query);\r\n}\r\n\r\nconst sendMessage = async (request) => {\r\n  return Vue.prototype.$http.post(`/api/conversation/sendMessage`, request);\r\n}\r\n\r\nconst createConversation = async (request) => {\r\n  return Vue.prototype.$http.post(`/api/conversation/create`, request);\r\n}\r\n\r\nconst uploadImage = async (request) => {\r\n  var formData = new FormData();\r\n  formData.append('file', request);\r\n  return Vue.prototype.$http.post(`/api/company/uploadAvatar`, formData, {\r\n      headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n      }\r\n  });\r\n}\r\n\r\nconst getStickerList = async () => {\r\n  return Vue.prototype.$http.get(`/api/stickerGroup/getAll`);\r\n}\r\n\r\n\r\nexport default {\r\n  getListConversation,\r\n  getMessageOfConversation,\r\n  createConversation,\r\n  getUserList,\r\n  sendMessage,\r\n  uploadImage,\r\n  getStickerList\r\n}","import api from '../_api/index';\r\n\r\nconst getListConversation = async (context) => {\r\n  let response = await api.getListConversation(context.state.searchRequest.pageIndex, context.state.searchRequest.pageSize);\r\n  context.commit('SET_LIST_CONVERSATION', response.data);\r\n};\r\n\r\nconst getConversationDetail = async (context, request) => {\r\n  localStorage.setItem(\"conversationId\", request);\r\n  let response = await api.getMessageOfConversation(context.state.conversationRequest.pageIndex, context.state.conversationRequest.pageSize, request);\r\n  context.commit('SET_CONVERSATION_DETAIL', response.data);\r\n  context.commit('SET_CONVERSATION_FOCUS', request);\r\n};\r\n\r\nconst setUserInfoConversation = async (context, request) => {\r\n  context.commit('SET_USER_INFO_CONVERSATION', request);\r\n};\r\n\r\n\r\nconst getUserList = async (context, request) => {\r\n  let response = await api.getUserList(request);\r\n  context.commit('SET_USER_LIST', response.data);\r\n};\r\n\r\nconst sendMessage = async (context, request) => {\r\n  let response = await api.sendMessage(request);\r\n  return response.data;\r\n};\r\n\r\nconst createConversation = async (context, request) => {\r\n  let response = await api.createConversation(request);\r\n  return response.data;\r\n};\r\n\r\nconst uploadImage = async (context, request) => {\r\n  let response = await api.uploadImage(request);\r\n  return response.data;\r\n};\r\n\r\nconst getStickerList = async (context, request) => {\r\n  let response = await api.getStickerList(request);\r\n  context.commit('SET_STICKER_LIST', response.data);\r\n};\r\n\r\nexport default {\r\n  getListConversation,\r\n  getConversationDetail,\r\n  getUserList,\r\n  createConversation,\r\n  sendMessage,\r\n  setUserInfoConversation,\r\n  uploadImage,\r\n  getStickerList\r\n}","import _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nconst getListConversation = (state) => {\r\n  var data = {};\r\n  if (state.listConversation && state.userList && state.userList.length) {\r\n    data = _.map(state.listConversation, (v) => {\r\n      v.participantOject = v.participant ? JSON.parse(v.participant.replace(/'/g, '\"')) : '';\r\n      v.participantOject = _.filter(v.participantOject, x => { return x !== localStorage.getItem(\"userId\")});\r\n      v.userInfo = _.find(state.userList, (o)=>{ return v.participantOject.indexOf(o.id) > -1 });\r\n      v.isRead = !v.isRead && v.latestMessenger !== localStorage.getItem(\"userId\")  ? false : true;\r\n      return v;\r\n    });\r\n  }\r\n  return data;\r\n};\r\n\r\nconst getConversationDetail = (state) => {\r\n  var data = {};\r\n  var currentDate = moment(new Date()).format('DD/MM/YYYY');\r\n  if (state.conversationDetail && state.userList && state.userList.length) {\r\n    data = _.map(state.conversationDetail, (v) => {\r\n      v.userInfo = _.find(state.userList, (o)=>{ return o.id === v.userId });\r\n      v.ownMessage = v.userId === localStorage.getItem('userId') ? true : false; \r\n      v.isToday = v.createdAt.slice(0,10) === currentDate ? true : false;\r\n      return v;\r\n    });\r\n    data = _.reverse(data);\r\n  }\r\n  return data;\r\n};\r\n\r\nconst getUserList = (state) => {\r\n  var data = {};\r\n  if (state.userList) {\r\n    data = _.map(state.userList, (v) => {\r\n      return v;\r\n    });\r\n  }\r\n  return data;\r\n};\r\n\r\nconst getStickerList = (state) => {\r\n  var data = {};\r\n  if (state.stickerList) {\r\n    data = _.map(state.stickerList, (v) => {\r\n      return v;\r\n    });\r\n  }\r\n  return data;\r\n};\r\n\r\nexport default {\r\n  getListConversation,\r\n  getConversationDetail,\r\n  getUserList,\r\n  getStickerList\r\n};\r\n","const SET_LIST_CONVERSATION = (state, messages) => {\r\n    state.listConversation = messages.data;\r\n    state.total = messages.total;\r\n}\r\n\r\nconst SET_CONVERSATION_DETAIL = (state, messages) => {\r\n    state.conversationDetail = messages.data;\r\n}\r\n\r\nconst SET_USER_INFO_CONVERSATION = (state, messages) => {\r\n    state.userInfoConversation = messages;\r\n}\r\n\r\nconst SET_CONVERSATION_FOCUS = (state, messages) => {\r\n    state.conversationId = messages;\r\n}\r\n\r\nconst SET_USER_LIST = (state, messages) => {\r\n    state.userList = messages;\r\n}\r\n\r\nconst SET_STICKER_LIST = (state, messages) => {\r\n    state.stickerList = messages.data;\r\n}\r\n\r\nexport default{\r\n    SET_LIST_CONVERSATION,\r\n    SET_CONVERSATION_DETAIL,\r\n    SET_CONVERSATION_FOCUS,\r\n    SET_USER_INFO_CONVERSATION,\r\n    SET_USER_LIST,\r\n    SET_STICKER_LIST\r\n}\r\n","import actions from '../_store/actions';\r\nimport getters from '../_store/getters';\r\nimport mutations from '../_store/mutations';\r\n\r\nconst state = {\r\n  listConversation: null,\r\n  conversationDetail: null,\r\n  userInfoConversation: null,\r\n  conversationId: null,\r\n  userList: null,\r\n  stickerList: null,\r\n  total: 0,\r\n  searchRequest: {\r\n    pageIndex: 1,\r\n    pageSize: 30,\r\n  },\r\n  conversationRequest: {\r\n    pageIndex: 1,\r\n    pageSize: 30,\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  actions,\r\n  getters,\r\n  mutations,\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"group-conversationList\"},[_c('div',{staticClass:\"main-title\"},[_vm._v(\"Conversation list\")]),_c('div',{staticClass:\"group-search\"},[_c('font-awesome-icon',{staticClass:\"icon-search\",attrs:{\"icon\":['fas', 'search']}}),_c('el-input',{staticClass:\"mb-3\",attrs:{\"placeholder\":\"Search\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('div',{staticClass:\"group-tab\"},[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'history']}})],1),_c('div',{staticClass:\"group-chatList\",on:{\"scroll\":_vm.handleScroll}},_vm._l((_vm.listConversation),function(item,index){return _c('div',{key:index,staticClass:\"chat-list\",class:_vm.conversationId == item.id ? 'active' : '',on:{\"click\":function($event){return _vm.getConversationDetail(item)}}},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',[(item && item.userInfo && item.userInfo.avatar)?_c('div',{staticClass:\"avatar-circle chatList\",style:({ backgroundImage: (\"url(\" + (item.userInfo.avatar) + \")\") })}):_c('div',{staticClass:\"avatar-circle chatList\",style:({ backgroundImage: (\"url(\" + _vm.NoAvatar + \")\") })})]),_c('div',{staticClass:\"ml-3\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item && item.userInfo && item.userInfo.fullName ? item.userInfo.fullName : ''))]),_c('div',{staticClass:\"lastest-chat\",class:{isRead: !item.isRead}},[_vm._v(_vm._s(item.latestMessage ? item.latestMessage : ''))])])]),_c('div',{staticClass:\"noti-group\"},[(item.newMessage > 0 && !item.isRead)?_c('div',{staticClass:\"noti-number chat\"},[_vm._v(_vm._s(item.newMessage))]):_vm._e()])])}),0)]),_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'address-book']}})],1),_c('div',{staticClass:\"group-chatList\"},_vm._l((_vm.listUser),function(item,index){return _c('div',{key:index,staticClass:\"chat-list mb-2\",on:{\"click\":function($event){return _vm.createConversationDetail(item.id)}}},[(item.id !== _vm.userId)?_c('div',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',[(item && item.avatar)?_c('div',{staticClass:\"avatar-circle chatList\",style:({ backgroundImage: (\"url(\" + (item.avatar) + \")\") })}):_c('div',{staticClass:\"avatar-circle chatList\",style:({ backgroundImage: (\"url(\" + _vm.NoAvatar + \")\") })})]),_c('div',{staticClass:\"ml-3\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item && item.fullName ? item.fullName : ''))])])])]):_vm._e()])}),0)])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"group-conversationList\">\r\n            <div class=\"main-title\">Conversation list</div>\r\n            <div class=\"group-search\">\r\n                <font-awesome-icon :icon=\"['fas', 'search']\" class=\"icon-search\"/>\r\n                <el-input placeholder=\"Search\" v-model=\"search\" class=\"mb-3\"></el-input>\r\n            </div>\r\n            <div class=\"group-tab\">\r\n                <el-tabs type=\"border-card\">\r\n                    <el-tab-pane>\r\n                        <span slot=\"label\">\r\n                            <font-awesome-icon :icon=\"['fas', 'history']\" />\r\n                        </span>\r\n                        <div class=\"group-chatList\" v-on:scroll=\"handleScroll\">\r\n                            <div class=\"chat-list\" :class=\"conversationId == item.id ? 'active' : ''\" v-for=\"(item, index) in listConversation\" :key=\"index\" @click=\"getConversationDetail(item)\">\r\n                                <div class=\"d-flex align-items-center\">\r\n                                    <div>\r\n                                        <div class=\"avatar-circle chatList\" :style=\"{ backgroundImage: `url(${item.userInfo.avatar})` }\" v-if=\"item && item.userInfo && item.userInfo.avatar\"></div>\r\n                                        <div class=\"avatar-circle chatList\" :style=\"{ backgroundImage: `url(${NoAvatar})` }\" v-else></div>\r\n                                    </div>\r\n                                    <div class=\"ml-3\">\r\n                                        <div class=\"name\">{{ item && item.userInfo && item.userInfo.fullName ? item.userInfo.fullName : '' }}</div>\r\n                                        <div class=\"lastest-chat\" :class=\"{isRead: !item.isRead}\">{{ item.latestMessage ? item.latestMessage : '' }}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"noti-group\">\r\n                                    <div class=\"noti-number chat\" v-if=\"item.newMessage > 0 && !item.isRead\">{{ item.newMessage }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </el-tab-pane>\r\n                    <el-tab-pane>\r\n                        <span slot=\"label\">\r\n                            <font-awesome-icon :icon=\"['fas', 'address-book']\" />\r\n                        </span>\r\n                        <div class=\"group-chatList\">\r\n                            <div class=\"chat-list mb-2\" v-for=\"(item, index) in listUser\" :key=\"index\" @click=\"createConversationDetail(item.id)\">\r\n                                <div v-if=\"item.id !== userId\">\r\n                                    <div class=\"d-flex align-items-center\">\r\n                                        <div>\r\n                                            <div class=\"avatar-circle chatList\" :style=\"{ backgroundImage: `url(${item.avatar})` }\" v-if=\"item && item.avatar\"></div>\r\n                                            <div class=\"avatar-circle chatList\" :style=\"{ backgroundImage: `url(${NoAvatar})` }\" v-else></div>\r\n                                        </div>\r\n                                        <div class=\"ml-3\">\r\n                                            <div class=\"name\">{{ item && item.fullName ? item.fullName : '' }}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                         </div>\r\n                    </el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NoAvatar from \"../../../assets/imgs/no-images.jpg\";\r\nimport { mapState } from \"vuex\";\r\nimport _ from \"lodash\";\r\nexport default {\r\n    components: {},\r\n    data() {\r\n        return {\r\n            search: '',\r\n            NoAvatar,\r\n            userId: localStorage.getItem(\"userId\"),\r\n            formData: {\r\n                participant: [],\r\n                isDelete: false,\r\n                IsRead: true,\r\n            },\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            searchRequest: state => state.$_conversation.searchRequest,\r\n            conversationId: state => state.$_conversation.conversationId,\r\n        }),\r\n  },\r\n    methods: {\r\n        async handleScroll(e) {\r\n            if(e.target.scrollTop == 0){\r\n                var _this = this;\r\n                _this.searchRequest.pageSize = _this.searchRequest.pageSize + 5;\r\n                await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n            }\r\n        },\r\n        async getConversationDetail(data){\r\n            var _this = this;\r\n            localStorage.setItem(\"userInfoOfConversation\", JSON.stringify(data.userInfo));\r\n            await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", data.userInfo);\r\n            await _this.$store.dispatch(\"$_conversation/getConversationDetail\", data.id);\r\n        },\r\n        async createConversationDetail(userId){\r\n            var _this = this;\r\n            var exist = _.find(_this.listConversation, o => { return o.participantOject.indexOf(userId) > -1 });\r\n            if(exist){\r\n                localStorage.setItem(\"userInfoOfConversation\", JSON.stringify(exist.userInfo));\r\n                await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", exist.userInfo);\r\n                await _this.$store.dispatch(\"$_conversation/getConversationDetail\", exist.id);\r\n            }\r\n            else{\r\n                _this.formData.participant.push(localStorage.getItem('userId'));\r\n                _this.formData.participant.push(userId);\r\n                _this.formData.participant = JSON.stringify(_this.formData.participant);\r\n                _this.formData.participant = _this.formData.participant.replace(/\"/g, \"'\");\r\n                var response = await _this.$store.dispatch(\"$_conversation/createConversation\", _this.formData);\r\n                if(response){\r\n                   var userInfo =  _.filter(_this.listUser, o => { return o.id === userId });\r\n                   localStorage.setItem(\"userInfoOfConversation\", JSON.stringify(userInfo));\r\n                   await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", userInfo);\r\n                   await _this.$store.dispatch(\"$_conversation/getConversationDetail\", response.id);\r\n                }\r\n                _this.formData.participant = []; \r\n            }\r\n        },\r\n    },\r\n    mounted: function () {\r\n      window.addEventListener('scroll', this.handleScroll);\r\n    },\r\n    destroyed: function () {\r\n      window.removeEventListener('scroll', this.handleScroll);\r\n    },\r\n    props:['listConversation', 'listUser']\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conversationList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conversationList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./conversationList.vue?vue&type=template&id=3944f216&\"\nimport script from \"./conversationList.vue?vue&type=script&lang=js&\"\nexport * from \"./conversationList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:_vm.rightInfo == false ? 'group-chatBox' : 'group-chatBox active'},[_c('div',{staticClass:\"header\"},[_c('div',[_vm._v(_vm._s(_vm.userInfoOfConversation && _vm.userInfoOfConversation.fullName ? _vm.userInfoOfConversation.fullName : \"\"))]),_c('div',{staticClass:\"collapse-option\"},[_c('a',{on:{\"click\":_vm.collapse}},[_c('font-awesome-icon',{class:{ show : _vm.rightInfo == false},attrs:{\"icon\":['fas', 'arrow-circle-right']}}),_c('font-awesome-icon',{class:{ show : _vm.rightInfo == true},attrs:{\"icon\":['fas', 'arrow-circle-left']}})],1)])]),_c('div',{ref:\"containerChat\",staticClass:\"content\"},_vm._l((_vm.userChat),function(item,index){return _c('div',{key:index,staticClass:\"wrapper\"},[(!item.ownMessage)?_c('div',{staticClass:\"group-chat friend-chat\"},[_c('div',{staticClass:\"mr-3\"},[_c('div',{staticClass:\"avatar\",style:({ backgroundImage: (\"url(\" + (item.userInfo && item.userInfo.avatar ? item.userInfo.avatar : _vm.NoAvatar) + \")\") })}),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(item.isToday && item.createdAt ? item.createdAt.slice(10,16) : item.createdAt.slice(0,5) + ' -' + item.createdAt.slice(10,16)))])]),(item.type !== 'sticker')?_c('div',{staticClass:\"chat\"},[(item.image && item.type == 'image')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.image}}):_vm._e(),_c('div',[_vm._v(_vm._s(item.content))])]):_c('div',{staticClass:\"sticker\"},[(item.image && item.type == 'sticker')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.image}}):_vm._e()])]):_c('div',{staticClass:\"group-chat own-chat\"},[(item.type !== 'sticker')?_c('div',{staticClass:\"chat\"},[(item.image && item.type == 'image')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.image}}):_vm._e(),_c('div',[_vm._v(_vm._s(item.content))])]):_c('div',{staticClass:\"sticker\"},[(item.image && item.type == 'sticker')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.image}}):_vm._e()]),_c('div',{staticClass:\"time ml-3\"},[_vm._v(_vm._s(item.isToday && item.createdAt ? item.createdAt.slice(10,16) : item.createdAt.slice(0,5) + ' -' + item.createdAt.slice(10,16)))])])])}),0),_c('div',{staticClass:\"footer\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.content),expression:\"formData.content\"}],attrs:{\"placeholder\":\"Nhập tin nhắn văn bản\",\"rows\":\"2\"},domProps:{\"value\":(_vm.formData.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"content\", $event.target.value)}}}),_c('div',{staticClass:\"position-relative\"},[_c('div',{staticClass:\"dropdown-menu uploadChat\",class:{ show : _vm.modalImageChat}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'times']},on:{\"click\":_vm.removeImage}}),_c('div',{staticClass:\"dropdown-item\"},[_c('div',{staticClass:\"image-chat shake\",style:({ backgroundImage: (\"url(\" + _vm.path + \")\") })})])],1)]),_c('div',{staticClass:\"position-relative\"},[_c('div',{staticClass:\"dropdown-menu sticker\",class:{ show : _vm.modalSticker}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'chevron-down']},on:{\"click\":_vm.closeModalStickerChat}}),_c('div',{staticClass:\"dropdown-item\"},[_c('el-tabs',{staticClass:\"w-100\"},_vm._l((_vm.stickerList),function(item,index){return _c('el-tab-pane',{key:index},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"mr-2\"},[_vm._v(_vm._s(item.name))]),_c('img',{staticClass:\"img-fluid tab-image\",attrs:{\"src\":item.image}})])]),_c('div',{staticClass:\"row\"},_vm._l((item.sticker),function(icon,key){return _c('div',{key:key,staticClass:\"col-md-3\"},[(icon.image)?_c('div',{staticClass:\"group-stickers\",style:({ backgroundImage: (\"url(\" + (icon.image) + \")\") }),on:{\"click\":function($event){return _vm.sendSticker(icon.image)}}}):_vm._e()])}),0)])}),1)],1)],1)]),_c('a',{staticClass:\"btn btn-chat stiker\",on:{\"click\":_vm.handleModalSticker}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'smile-wink']}})],1),_c('label',{staticClass:\"btn btn-chat image\",attrs:{\"for\":\"uploadImageChat\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'image']}}),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"uploadImageChat\"},on:{\"change\":_vm.handleFileUpload}})],1),_c('a',{staticClass:\"btn btn-chat mail\",on:{\"click\":_vm.sendMail}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'paper-plane']}})],1)])]),_c('div',{class:_vm.rightInfo == false ? 'group-infoBox' : 'group-infoBox active'},[_c('div',[_c('div',{staticClass:\"avatar\",style:({ backgroundImage: (\"url(\" + (_vm.userInfoOfConversation && _vm.userInfoOfConversation.avatar ? _vm.userInfoOfConversation.avatar : _vm.NoAvatar) + \")\") })}),_c('div',{staticClass:\"email\"},[_vm._v(_vm._s(_vm.userInfoOfConversation && _vm.userInfoOfConversation.fullName ? _vm.userInfoOfConversation.fullName : \"\"))]),_c('div',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.userInfoOfConversation && _vm.userInfoOfConversation.phoneNumber ? _vm.userInfoOfConversation.phoneNumber : ''))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div :class=\"rightInfo == false ? 'group-chatBox' : 'group-chatBox active'\">\r\n            <div class=\"header\">\r\n                <div>{{ userInfoOfConversation && userInfoOfConversation.fullName ? userInfoOfConversation.fullName : \"\" }}</div>\r\n                <div class=\"collapse-option\">\r\n                    <a @click=\"collapse\">\r\n                        <font-awesome-icon :icon=\"['fas', 'arrow-circle-right']\" :class=\"{ show : rightInfo == false}\"/>\r\n                        <font-awesome-icon :icon=\"['fas', 'arrow-circle-left']\" :class=\"{ show : rightInfo == true}\"/>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class=\"content\" ref=\"containerChat\">\r\n                <div class=\"wrapper\" v-for=\"(item,index) in userChat\" :key=\"index\">\r\n                    <div class=\"group-chat friend-chat\" v-if=\"!item.ownMessage\">\r\n                        <div class=\"mr-3\">\r\n                            <div class=\"avatar\" :style=\"{ backgroundImage: `url(${ item.userInfo && item.userInfo.avatar ? item.userInfo.avatar : NoAvatar})` }\"></div>\r\n                            <div class=\"time\">{{ item.isToday && item.createdAt ? item.createdAt.slice(10,16) : item.createdAt.slice(0,5) + ' -' + item.createdAt.slice(10,16) }}</div>\r\n                        </div>\r\n                        <div class=\"chat\" v-if=\"item.type !== 'sticker'\">\r\n                            <img :src=\"item.image\" v-if=\"item.image && item.type == 'image'\" class=\"img-fluid\"/>\r\n                            <div>{{item.content}}</div>\r\n                        </div>\r\n                        <div class=\"sticker\" v-else>\r\n                            <img :src=\"item.image\" v-if=\"item.image && item.type == 'sticker'\" class=\"img-fluid\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"group-chat own-chat\" v-else>\r\n                        <div class=\"chat\" v-if=\"item.type !== 'sticker'\">\r\n                            <img :src=\"item.image\" v-if=\"item.image && item.type == 'image'\" class=\"img-fluid\"/>\r\n                            <div>{{item.content}}</div>\r\n                        </div>\r\n                         <div class=\"sticker\" v-else>\r\n                            <img :src=\"item.image\" v-if=\"item.image && item.type == 'sticker'\" class=\"img-fluid\"/>\r\n                        </div>\r\n                        <div class=\"time ml-3\">{{ item.isToday && item.createdAt ? item.createdAt.slice(10,16) : item.createdAt.slice(0,5) + ' -' + item.createdAt.slice(10,16) }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"footer\">\r\n                <textarea placeholder=\"Nhập tin nhắn văn bản\" rows=\"2\" v-model=\"formData.content\"></textarea>\r\n                <div class=\"position-relative\">\r\n                    <div class=\"dropdown-menu uploadChat\" :class=\"{ show : modalImageChat}\">\r\n                        <font-awesome-icon :icon=\"['fas', 'times']\"  @click=\"removeImage\"/>\r\n                        <div class=\"dropdown-item\">\r\n                            <div class=\"image-chat shake\" :style=\"{ backgroundImage: `url(${path})` }\" ></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"position-relative\">\r\n                    <div class=\"dropdown-menu sticker\" :class=\"{ show : modalSticker}\">\r\n                        <font-awesome-icon :icon=\"['fas', 'chevron-down']\"  @click=\"closeModalStickerChat\"/>\r\n                        <div class=\"dropdown-item\">\r\n                            <el-tabs class=\"w-100\">\r\n                                <el-tab-pane v-for=\"(item, index) in stickerList\" :key=\"index\">\r\n                                    <span slot=\"label\">\r\n                                        <div class=\"d-flex justify-content-between align-items-center\">\r\n                                            <div class=\"mr-2\">{{ item.name }}</div>\r\n                                            <img :src=\"item.image\" class=\"img-fluid tab-image\"/>\r\n                                        </div>\r\n                                    </span>\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-3\" v-for=\"(icon, key) in item.sticker\" :key=\"key\">\r\n                                            <div class=\"group-stickers\" :style=\"{ backgroundImage: `url(${icon.image})` }\" v-if=\"icon.image\" @click=\"sendSticker(icon.image)\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </el-tab-pane>\r\n                            </el-tabs>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <a class=\"btn btn-chat stiker\" @click=\"handleModalSticker\">\r\n                    <font-awesome-icon :icon=\"['fas', 'smile-wink']\" />\r\n                </a>\r\n                <label for=\"uploadImageChat\" class=\"btn btn-chat image\">\r\n                    <font-awesome-icon :icon=\"['fas', 'image']\" />\r\n                    <input type=\"file\" id=\"uploadImageChat\" style=\"display:none\" @change=\"handleFileUpload\">\r\n                </label>\r\n                <a class=\"btn btn-chat mail\" @click=\"sendMail\">\r\n                    <font-awesome-icon :icon=\"['fas', 'paper-plane']\" />\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div :class=\"rightInfo == false ? 'group-infoBox' : 'group-infoBox active'\">\r\n            <div>\r\n                <div class=\"avatar\" :style=\"{ backgroundImage: `url(${ userInfoOfConversation && userInfoOfConversation.avatar ? userInfoOfConversation.avatar : NoAvatar})` }\"></div>\r\n                <div class=\"email\">{{ userInfoOfConversation && userInfoOfConversation.fullName ? userInfoOfConversation.fullName : \"\" }}</div>\r\n                <div class=\"number\">{{ userInfoOfConversation && userInfoOfConversation.phoneNumber ? userInfoOfConversation.phoneNumber : ''}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NoAvatar from \"../../../assets/imgs/no-images.jpg\";\r\nimport { mapState, mapGetters } from \"vuex\";\r\nexport default {\r\n    components: {},\r\n    data() {\r\n        return {\r\n            NoAvatar,\r\n            rightInfo: true,\r\n            formData: {\r\n                content: \"\",\r\n                type: \"text\",\r\n                isDelete: false,\r\n                conversationId: \"\",\r\n                image: null\r\n            },\r\n            file: null,\r\n            path: null,\r\n            modalSticker: false,\r\n            modalImageChat: false,\r\n            modalStickerChat: false\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            conversationId: state => state.$_conversation.conversationId,\r\n            userInfoOfConversation: state => state.$_conversation.userInfoConversation,\r\n        }),\r\n        ...mapGetters({\r\n            stickerList: \"$_conversation/getStickerList\",\r\n        }),\r\n    },\r\n    methods:{\r\n        collapse(){\r\n            var _this = this;\r\n            _this.rightInfo = ! _this.rightInfo;\r\n        },\r\n        scrollTop(){\r\n            var _this = this;\r\n            var container = _this.$refs.containerChat;\r\n            container.scrollTop = container.scrollHeight;\r\n        },\r\n        handleModalSticker(){\r\n            var _this = this;\r\n            _this.modalSticker = true;\r\n            _this.modalImageChat = false;\r\n            _this.removeImage();\r\n        },\r\n        closeModalStickerChat(){\r\n            var _this = this;\r\n            _this.modalSticker = false;\r\n        },\r\n        async sendMail(){\r\n            var _this = this;\r\n            try{\r\n                _this.formData.conversationId = _this.conversationId;\r\n                await _this.$store.dispatch(\"$_conversation/sendMessage\", _this.formData);\r\n                await _this.$store.dispatch(\"$_loginPage/sendSocket\", ({ userInput: _this.userInfoOfConversation.id, messageInput: _this.formData.content, functionInput: \"$_conversation/getConversationDetail\", paramsInput: _this.conversationId, typeInput: \"sendTextMessage\" }));\r\n                await _this.$store.dispatch(\"$_conversation/getConversationDetail\", _this.conversationId);\r\n                await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n                _this.formData.content = \"\";\r\n                if(_this.formData.type === 'image'){\r\n                    _this.formData.type = 'text';\r\n                    _this.modalImageChat = false;\r\n                }\r\n                _this.formData.image = null;\r\n            }\r\n            catch(error){\r\n                console.log(error);\r\n            }\r\n    \r\n        },\r\n        async sendSticker(val){\r\n            var _this = this;\r\n            try{\r\n                _this.formData.conversationId = _this.conversationId;\r\n                _this.formData.image = val;\r\n                _this.formData.type = \"sticker\";\r\n                await _this.$store.dispatch(\"$_conversation/sendMessage\", _this.formData);\r\n                await _this.$store.dispatch(\"$_loginPage/sendSocket\", ({ userInput: _this.userInfoOfConversation.id, messageInput: _this.formData.content, functionInput: \"$_conversation/getConversationDetail\", paramsInput: _this.conversationId, typeInput: \"sendTextMessage\" }));\r\n                await _this.$store.dispatch(\"$_conversation/getConversationDetail\", _this.conversationId);\r\n                await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n                _this.formData.type = 'text';\r\n                _this.formData.image = null;\r\n                _this.modalStickerChat = false;\r\n            }\r\n            catch(error){\r\n                console.log(error);\r\n            }\r\n        },\r\n        async handleFileUpload(e) {\r\n            var _this = this;\r\n            _this.file = e.target.files[0];\r\n            if (_this.file) {\r\n                var response = await this.$store.dispatch(\"$_conversation/uploadImage\", _this.file);\r\n                if (response && response.path) {\r\n                _this.path = response.path;\r\n                _this.formData.type = 'image';\r\n                _this.formData.image = _this.path;\r\n                _this.modalImageChat = true;\r\n                _this.modalSticker = false;\r\n                }\r\n            } else {\r\n                this.$notify.error({\r\n                title: \"Thất bại\",\r\n                message: \"Ảnh k đúng định dạng\",\r\n                });\r\n            }\r\n        },\r\n        removeImage(){\r\n            var _this = this;\r\n            _this.file = '',\r\n            _this.path = '';\r\n            _this.formData.type = 'text';\r\n            _this.formData.image = null;\r\n            _this.modalImageChat = false;\r\n        }\r\n    },\r\n    updated () {\r\n        var _this = this;\r\n        _this.scrollTop(); \r\n    },\r\n    mounted () {\r\n        var _this = this;\r\n        _this.scrollTop();\t\r\n    },\r\n    props:['userChat']\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chatBox.vue?vue&type=template&id=4bc5df4f&\"\nimport script from \"./chatBox.vue?vue&type=script&lang=js&\"\nexport * from \"./chatBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-3 pr-0\">\r\n        <conversation-list :list-conversation=\"dataConversation\" :list-user=\"userList\"></conversation-list>\r\n      </div>\r\n      <div class=\"col-9 pl-0\">\r\n        <chat-box :user-chat=\"conversationDetail\"></chat-box>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters } from \"vuex\";\r\nimport commonData from '../../utils/common-data';\r\nimport store from \"./_store\";\r\nimport ConversationList from './_components/conversationList'\r\nimport ChatBox from './_components/chatBox'\r\n// import _ from 'lodash';\r\nexport default {\r\n  components: {\r\n    'conversation-list': ConversationList,\r\n    'chat-box': ChatBox\r\n  },\r\n  data() {\r\n    return {\r\n      commonData,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      searchRequest: state => state.$_conversation.searchRequest,\r\n    }),\r\n    ...mapGetters({\r\n        conversationDetail: \"$_conversation/getConversationDetail\",\r\n        dataConversation: \"$_conversation/getListConversation\",\r\n        userList: \"$_conversation/getUserList\",\r\n    }),\r\n  },\r\n  async created() {\r\n    var _this = this;\r\n    const STORE_KEY = \"$_conversation\";\r\n    if (!(STORE_KEY in this.$store._modules.root._children)) {\r\n      _this.$store.registerModule(STORE_KEY, store);\r\n    }\r\n    await _this.$store.dispatch(\"$_conversation/getUserList\");\r\n    await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n    await _this.$store.dispatch(\"$_conversation/getStickerList\");\r\n    if(localStorage.getItem(\"conversationId\") && localStorage.getItem(\"userInfoOfConversation\")){\r\n      await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", JSON.parse(localStorage.getItem(\"userInfoOfConversation\")));\r\n      await _this.$store.dispatch(\"$_conversation/getConversationDetail\", localStorage.getItem(\"conversationId\"));\r\n    }\r\n    else{\r\n      if(_this.dataConversation && _this.dataConversation.length){\r\n        localStorage.setItem(\"userInfoOfConversation\", JSON.stringify(_this.dataConversation[0].userInfo));\r\n        await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", _this.dataConversation[0].userInfo);\r\n        await _this.$store.dispatch(\"$_conversation/getConversationDetail\", _this.dataConversation[0].id);\r\n      }\r\n    }\r\n  },\r\n  methods: {},\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4cdad55a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <nav-menu params=\"route: route\"></nav-menu>\r\n    <div class=\"container-fluid my-3\">\r\n      <Conversation />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavMenu from \"../components/nav-bar\";\r\nimport Conversation from \"../modules/conversation\";\r\nexport default {\r\n  name: \"conversation\",\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    Conversation,\r\n    \"nav-menu\": NavMenu\r\n  },\r\n  methods: {\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conversation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conversation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./conversation.vue?vue&type=template&id=b13882e6&\"\nimport script from \"./conversation.vue?vue&type=script&lang=js&\"\nexport * from \"./conversation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}