{"version":3,"sources":["webpack:///./src/assets/imgs/no-images.jpg","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./src/views/conversation.vue?c36f","webpack:///./src/modules/conversation/index.vue?5c19","webpack:///./src/modules/conversation/_api/index.js","webpack:///./src/modules/conversation/_store/actions.js","webpack:///./src/modules/conversation/_store/getters.js","webpack:///./src/modules/conversation/_store/mutations.js","webpack:///./src/modules/conversation/_store/index.js","webpack:///./src/modules/conversation/_components/conversationList.vue?018c","webpack:///src/modules/conversation/_components/conversationList.vue","webpack:///./src/modules/conversation/_components/conversationList.vue?1bb6","webpack:///./src/modules/conversation/_components/conversationList.vue","webpack:///./src/modules/conversation/_components/chatBox.vue?80f4","webpack:///src/modules/conversation/_components/chatBox.vue","webpack:///./src/modules/conversation/_components/chatBox.vue?b510","webpack:///./src/modules/conversation/_components/chatBox.vue","webpack:///src/modules/conversation/index.vue","webpack:///./src/modules/conversation/index.vue?7447","webpack:///./src/modules/conversation/index.vue","webpack:///src/views/conversation.vue","webpack:///./src/views/conversation.vue?36da","webpack:///./src/views/conversation.vue"],"names":["module","exports","$","$indexOf","indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","target","proto","forced","searchElement","apply","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","dataConversation","userList","conversationDetail","getListConversation","pageIndex","pageSize","query","Vue","prototype","$http","post","getUserList","get","getMessageOfConversation","conversationId","sendMessage","request","createConversation","uploadImage","formData","FormData","append","headers","getStickerList","readNewMessage","context","api","state","searchRequest","response","commit","data","getConversationDetail","localStorage","setItem","conversationRequest","setUserInfoConversation","listConversation","_","map","v","participantOject","participant","JSON","parse","replace","filter","x","getItem","userInfo","find","o","id","isRead","latestMessenger","currentDate","moment","Date","format","userId","ownMessage","isToday","createdAt","slice","reverse","stickerList","SET_LIST_CONVERSATION","messages","total","SET_CONVERSATION_DETAIL","SET_USER_INFO_CONVERSATION","userInfoConversation","SET_CONVERSATION_FOCUS","SET_USER_LIST","SET_STICKER_LIST","namespaced","actions","getters","mutations","_v","model","value","callback","$$v","search","expression","slot","on","handleScroll","_l","item","index","key","class","$event","avatar","style","backgroundImage","NoAvatar","_s","fullName","latestMessage","newMessage","_e","createConversationDetail","_this","stringify","exist","push","component","rightInfo","userInfoOfConversation","collapse","show","ref","readMessage","type","image","content","directives","name","rawName","modifiers","domProps","_k","keyCode","preventDefault","sendMail","composing","$set","modalImageChat","removeImage","path","modalSticker","closeModalStickerChat","icon","sendSticker","handleModalSticker","staticStyle","handleFileUpload","errors","items","phoneNumber","val","modalStickerChat","console","log","components","commonData","computed","methods","Conversation"],"mappings":"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","file":"js/chunk-74915e42.1fa9b943.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/no-images.a9a1e5e3.jpg\";","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-menu',{attrs:{\"params\":\"route: route\"}}),_c('div',{staticClass:\"container-fluid my-3\"},[_c('Conversation')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3 pr-0 page-content\"},[_c('conversation-list',{attrs:{\"list-conversation\":_vm.dataConversation,\"list-user\":_vm.userList}})],1),_c('div',{staticClass:\"col-9 pl-0 page-content\"},[_c('chat-box',{attrs:{\"user-chat\":_vm.conversationDetail}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\r\n\r\nconst getListConversation = async (pageIndex, pageSize) => {\r\n    var query = { \"PageIndex\": pageIndex, \"PageSize\": pageSize};\r\n    return Vue.prototype.$http.post(`/api/conversation/getListConversationOfUser`, query);\r\n}\r\n\r\nconst getUserList = async () => {\r\n  return Vue.prototype.$http.get(`/api/company/getRelatedUser`);\r\n}\r\n\r\nconst getMessageOfConversation = async (pageIndex, pageSize, conversationId) => {\r\n  var query = { \"PageIndex\": pageIndex, \"PageSize\": pageSize, \"Title\": conversationId};\r\n  return Vue.prototype.$http.post(`/api/conversation/getMessageOfConversation`, query);\r\n}\r\n\r\nconst sendMessage = async (request) => {\r\n  return Vue.prototype.$http.post(`/api/conversation/sendMessage`, request);\r\n}\r\n\r\nconst createConversation = async (request) => {\r\n  return Vue.prototype.$http.post(`/api/conversation/create`, request);\r\n}\r\n\r\nconst uploadImage = async (request) => {\r\n  var formData = new FormData();\r\n  formData.append('file', request);\r\n  return Vue.prototype.$http.post(`/api/company/uploadAvatar`, formData, {\r\n      headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n      }\r\n  });\r\n}\r\n\r\nconst getStickerList = async () => {\r\n  return Vue.prototype.$http.get(`/api/stickerGroup/getAll`);\r\n}\r\n\r\nconst readNewMessage = async (request) => {\r\n  return Vue.prototype.$http.get(`/api/conversation/readNewMessage/${request}`);\r\n};\r\n\r\n\r\nexport default {\r\n  getListConversation,\r\n  getMessageOfConversation,\r\n  createConversation,\r\n  getUserList,\r\n  sendMessage,\r\n  uploadImage,\r\n  getStickerList,\r\n  readNewMessage\r\n}","import api from '../_api/index';\r\n\r\nconst getListConversation = async (context) => {\r\n  let response = await api.getListConversation(context.state.searchRequest.pageIndex, context.state.searchRequest.pageSize);\r\n  context.commit('SET_LIST_CONVERSATION', response.data);\r\n};\r\n\r\nconst getConversationDetail = async (context, request) => {\r\n  localStorage.setItem(\"conversationId\", request);\r\n  let response = await api.getMessageOfConversation(context.state.conversationRequest.pageIndex, context.state.conversationRequest.pageSize, request);\r\n  context.commit('SET_CONVERSATION_DETAIL', response.data);\r\n  context.commit('SET_CONVERSATION_FOCUS', request);\r\n};\r\n\r\nconst setUserInfoConversation = async (context, request) => {\r\n  context.commit('SET_USER_INFO_CONVERSATION', request);\r\n};\r\n\r\n\r\nconst getUserList = async (context, request) => {\r\n  let response = await api.getUserList(request);\r\n  context.commit('SET_USER_LIST', response.data);\r\n};\r\n\r\nconst sendMessage = async (context, request) => {\r\n  let response = await api.sendMessage(request);\r\n  return response.data;\r\n};\r\n\r\nconst createConversation = async (context, request) => {\r\n  let response = await api.createConversation(request);\r\n  return response.data;\r\n};\r\n\r\nconst uploadImage = async (context, request) => {\r\n  let response = await api.uploadImage(request);\r\n  return response.data;\r\n};\r\n\r\nconst getStickerList = async (context, request) => {\r\n  let response = await api.getStickerList(request);\r\n  context.commit('SET_STICKER_LIST', response.data);\r\n};\r\n\r\nconst readNewMessage = async (context, request) => {\r\n  let response = await api.readNewMessage(request);\r\n  return response.data;\r\n};\r\n\r\nexport default {\r\n  getListConversation,\r\n  getConversationDetail,\r\n  getUserList,\r\n  createConversation,\r\n  sendMessage,\r\n  setUserInfoConversation,\r\n  uploadImage,\r\n  getStickerList,\r\n  readNewMessage\r\n}","import _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nconst getListConversation = (state) => {\r\n  var data = {};\r\n  if (state.listConversation && state.userList && state.userList.length) {\r\n    data = _.map(state.listConversation, (v) => {\r\n      v.participantOject = v.participant ? JSON.parse(v.participant.replace(/'/g, '\"')) : '';\r\n      v.participantOject = _.filter(v.participantOject, x => { return x !== localStorage.getItem(\"userId\")});\r\n      v.userInfo = _.find(state.userList, (o)=>{ return v.participantOject.indexOf(o.id) > -1 });\r\n      v.isRead = !v.isRead && v.latestMessenger !== localStorage.getItem(\"userId\")  ? false : true;\r\n      return v;\r\n    });\r\n  }\r\n  return data;\r\n};\r\n\r\nconst getConversationDetail = (state) => {\r\n  var data = {};\r\n  var currentDate = moment(new Date()).format('DD/MM/YYYY');\r\n  if (state.conversationDetail && state.userList && state.userList.length) {\r\n    data = _.map(state.conversationDetail, (v) => {\r\n      v.userInfo = _.find(state.userList, (o)=>{ return o.id === v.userId });\r\n      v.ownMessage = v.userId === localStorage.getItem('userId') ? true : false; \r\n      v.isToday = v.createdAt.slice(0,10) === currentDate ? true : false;\r\n      return v;\r\n    });\r\n    data = _.reverse(data);\r\n  }\r\n  return data;\r\n};\r\n\r\nconst getUserList = (state) => {\r\n  var data = {};\r\n  if (state.userList) {\r\n    data = _.map(state.userList, (v) => {\r\n      return v;\r\n    });\r\n  }\r\n  return data;\r\n};\r\n\r\nconst getStickerList = (state) => {\r\n  var data = {};\r\n  if (state.stickerList) {\r\n    data = _.map(state.stickerList, (v) => {\r\n      return v;\r\n    });\r\n  }\r\n  return data;\r\n};\r\n\r\nexport default {\r\n  getListConversation,\r\n  getConversationDetail,\r\n  getUserList,\r\n  getStickerList\r\n};\r\n","const SET_LIST_CONVERSATION = (state, messages) => {\r\n    state.listConversation = messages.data;\r\n    state.total = messages.total;\r\n}\r\n\r\nconst SET_CONVERSATION_DETAIL = (state, messages) => {\r\n    state.conversationDetail = messages.data;\r\n}\r\n\r\nconst SET_USER_INFO_CONVERSATION = (state, messages) => {\r\n    state.userInfoConversation = messages;\r\n}\r\n\r\nconst SET_CONVERSATION_FOCUS = (state, messages) => {\r\n    state.conversationId = messages;\r\n}\r\n\r\nconst SET_USER_LIST = (state, messages) => {\r\n    state.userList = messages;\r\n}\r\n\r\nconst SET_STICKER_LIST = (state, messages) => {\r\n    state.stickerList = messages.data;\r\n}\r\n\r\nexport default{\r\n    SET_LIST_CONVERSATION,\r\n    SET_CONVERSATION_DETAIL,\r\n    SET_CONVERSATION_FOCUS,\r\n    SET_USER_INFO_CONVERSATION,\r\n    SET_USER_LIST,\r\n    SET_STICKER_LIST\r\n}\r\n","import actions from '../_store/actions';\r\nimport getters from '../_store/getters';\r\nimport mutations from '../_store/mutations';\r\n\r\nconst state = {\r\n  listConversation: null,\r\n  conversationDetail: null,\r\n  userInfoConversation: null,\r\n  conversationId: null,\r\n  userList: null,\r\n  stickerList: null,\r\n  total: 0,\r\n  searchRequest: {\r\n    pageIndex: 1,\r\n    pageSize: 30,\r\n  },\r\n  conversationRequest: {\r\n    pageIndex: 1,\r\n    pageSize: 30,\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  actions,\r\n  getters,\r\n  mutations,\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"group-conversationList\"},[_c('div',{staticClass:\"main-title\"},[_vm._v(\"Conversation list\")]),_c('div',{staticClass:\"group-search\"},[_c('font-awesome-icon',{staticClass:\"icon-search\",attrs:{\"icon\":['fas', 'search']}}),_c('el-input',{staticClass:\"mb-3\",attrs:{\"placeholder\":\"Search\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('div',{staticClass:\"group-tab\"},[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'history']}})],1),_c('div',{staticClass:\"group-chatList\",on:{\"scroll\":_vm.handleScroll}},_vm._l((_vm.listConversation),function(item,index){return _c('div',{key:index,staticClass:\"chat-list\",class:_vm.conversationId == item.id ? 'active' : '',on:{\"click\":function($event){return _vm.getConversationDetail(item)}}},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',[(item && item.userInfo && item.userInfo.avatar)?_c('div',{staticClass:\"avatar-circle chatList\",style:({ backgroundImage: (\"url(\" + (item.userInfo.avatar) + \")\") })}):_c('div',{staticClass:\"avatar-circle chatList\",style:({ backgroundImage: (\"url(\" + _vm.NoAvatar + \")\") })})]),_c('div',{staticClass:\"ml-3\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item && item.userInfo && item.userInfo.fullName ? item.userInfo.fullName : ''))]),_c('div',{staticClass:\"lastest-chat\",class:{isRead: !item.isRead}},[_vm._v(_vm._s(item.latestMessage ? item.latestMessage : ''))])])]),_c('div',{staticClass:\"noti-group\"},[(item.newMessage > 0 && !item.isRead)?_c('div',{staticClass:\"noti-number chat\"},[_vm._v(_vm._s(item.newMessage))]):_vm._e()])])}),0)]),_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'address-book']}})],1),_c('div',{staticClass:\"group-chatList\"},_vm._l((_vm.listUser),function(item,index){return _c('div',{key:index,staticClass:\"chat-list mb-2\",on:{\"click\":function($event){return _vm.createConversationDetail(item.id)}}},[(item.id !== _vm.userId)?_c('div',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',[(item && item.avatar)?_c('div',{staticClass:\"avatar-circle chatList\",style:({ backgroundImage: (\"url(\" + (item.avatar) + \")\") })}):_c('div',{staticClass:\"avatar-circle chatList\",style:({ backgroundImage: (\"url(\" + _vm.NoAvatar + \")\") })})]),_c('div',{staticClass:\"ml-3\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item && item.fullName ? item.fullName : ''))])])])]):_vm._e()])}),0)])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"group-conversationList\">\r\n            <div class=\"main-title\">Conversation list</div>\r\n            <div class=\"group-search\">\r\n                <font-awesome-icon :icon=\"['fas', 'search']\" class=\"icon-search\"/>\r\n                <el-input placeholder=\"Search\" v-model=\"search\" class=\"mb-3\"></el-input>\r\n            </div>\r\n            <div class=\"group-tab\">\r\n                <el-tabs type=\"border-card\">\r\n                    <el-tab-pane>\r\n                        <span slot=\"label\">\r\n                            <font-awesome-icon :icon=\"['fas', 'history']\" />\r\n                        </span>\r\n                        <div class=\"group-chatList\" v-on:scroll=\"handleScroll\">\r\n                            <div class=\"chat-list\" :class=\"conversationId == item.id ? 'active' : ''\" v-for=\"(item, index) in listConversation\" :key=\"index\" @click=\"getConversationDetail(item)\">\r\n                                <div class=\"d-flex align-items-center\">\r\n                                    <div>\r\n                                        <div class=\"avatar-circle chatList\" :style=\"{ backgroundImage: `url(${item.userInfo.avatar})` }\" v-if=\"item && item.userInfo && item.userInfo.avatar\"></div>\r\n                                        <div class=\"avatar-circle chatList\" :style=\"{ backgroundImage: `url(${NoAvatar})` }\" v-else></div>\r\n                                    </div>\r\n                                    <div class=\"ml-3\">\r\n                                        <div class=\"name\">{{ item && item.userInfo && item.userInfo.fullName ? item.userInfo.fullName : '' }}</div>\r\n                                        <div class=\"lastest-chat\" :class=\"{isRead: !item.isRead}\">{{ item.latestMessage ? item.latestMessage : '' }}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"noti-group\">\r\n                                    <div class=\"noti-number chat\" v-if=\"item.newMessage > 0 && !item.isRead\">{{ item.newMessage }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </el-tab-pane>\r\n                    <el-tab-pane>\r\n                        <span slot=\"label\">\r\n                            <font-awesome-icon :icon=\"['fas', 'address-book']\" />\r\n                        </span>\r\n                        <div class=\"group-chatList\">\r\n                            <div class=\"chat-list mb-2\" v-for=\"(item, index) in listUser\" :key=\"index\" @click=\"createConversationDetail(item.id)\">\r\n                                <div v-if=\"item.id !== userId\">\r\n                                    <div class=\"d-flex align-items-center\">\r\n                                        <div>\r\n                                            <div class=\"avatar-circle chatList\" :style=\"{ backgroundImage: `url(${item.avatar})` }\" v-if=\"item && item.avatar\"></div>\r\n                                            <div class=\"avatar-circle chatList\" :style=\"{ backgroundImage: `url(${NoAvatar})` }\" v-else></div>\r\n                                        </div>\r\n                                        <div class=\"ml-3\">\r\n                                            <div class=\"name\">{{ item && item.fullName ? item.fullName : '' }}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                         </div>\r\n                    </el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NoAvatar from \"../../../assets/imgs/no-images.jpg\";\r\nimport { mapState } from \"vuex\";\r\nimport _ from \"lodash\";\r\nexport default {\r\n    components: {},\r\n    data() {\r\n        return {\r\n            search: '',\r\n            NoAvatar,\r\n            userId: localStorage.getItem(\"userId\"),\r\n            formData: {\r\n                participant: [],\r\n                isDelete: false,\r\n                IsRead: true,\r\n            },\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            searchRequest: state => state.$_conversation.searchRequest,\r\n            conversationId: state => state.$_conversation.conversationId,\r\n        }),\r\n  },\r\n    methods: {\r\n        async handleScroll(e) {\r\n            if(e.target.scrollTop == 0){\r\n                var _this = this;\r\n                _this.searchRequest.pageSize = _this.searchRequest.pageSize + 5;\r\n                await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n            }\r\n        },\r\n        async getConversationDetail(data){\r\n            var _this = this;\r\n            localStorage.setItem(\"userInfoOfConversation\", JSON.stringify(data.userInfo));\r\n            await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", data.userInfo);\r\n            await _this.$store.dispatch(\"$_conversation/getConversationDetail\", data.id);\r\n        },\r\n        async createConversationDetail(userId){\r\n            var _this = this;\r\n            var exist = _.find(_this.listConversation, o => { return o.participantOject.indexOf(userId) > -1 });\r\n            if(exist){\r\n                localStorage.setItem(\"userInfoOfConversation\", JSON.stringify(exist.userInfo));\r\n                localStorage.setItem(\"conversationId\", exist.id);\r\n                await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", exist.userInfo);\r\n                await _this.$store.dispatch(\"$_conversation/getConversationDetail\", exist.id);\r\n            }\r\n            else{\r\n                _this.formData.participant.push(localStorage.getItem('userId'));\r\n                _this.formData.participant.push(userId);\r\n                _this.formData.participant = JSON.stringify(_this.formData.participant);\r\n                _this.formData.participant = _this.formData.participant.replace(/\"/g, \"'\");\r\n                var response = await _this.$store.dispatch(\"$_conversation/createConversation\", _this.formData);\r\n                if(response){\r\n                   var userInfo =  _.filter(_this.listUser, o => { return o.id === userId });\r\n                   localStorage.setItem(\"userInfoOfConversation\", JSON.stringify(userInfo));\r\n                   localStorage.setItem(\"conversationId\", response.id);\r\n                   window.location.reload();\r\n                   await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", userInfo);\r\n                   await _this.$store.dispatch(\"$_conversation/getConversationDetail\", response.id);\r\n                }\r\n                _this.formData.participant = []; \r\n            }\r\n        },\r\n    },\r\n    mounted: function () {\r\n      window.addEventListener('scroll', this.handleScroll);\r\n    },\r\n    destroyed: function () {\r\n      window.removeEventListener('scroll', this.handleScroll);\r\n    },\r\n    props:['listConversation', 'listUser']\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conversationList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conversationList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./conversationList.vue?vue&type=template&id=89d9b32a&\"\nimport script from \"./conversationList.vue?vue&type=script&lang=js&\"\nexport * from \"./conversationList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:_vm.rightInfo == false ? 'group-chatBox' : 'group-chatBox active'},[_c('div',{staticClass:\"header\"},[_c('div',[_vm._v(_vm._s(_vm.userInfoOfConversation && _vm.userInfoOfConversation.fullName ? _vm.userInfoOfConversation.fullName : \"\"))]),_c('div',{staticClass:\"collapse-option\"},[_c('a',{on:{\"click\":_vm.collapse}},[_c('font-awesome-icon',{class:{ show : _vm.rightInfo == false},attrs:{\"icon\":['fas', 'arrow-circle-right']}}),_c('font-awesome-icon',{class:{ show : _vm.rightInfo == true},attrs:{\"icon\":['fas', 'arrow-circle-left']}})],1)])]),_c('div',{ref:\"containerChat\",staticClass:\"content\",on:{\"click\":_vm.readMessage}},_vm._l((_vm.userChat),function(item,index){return _c('div',{key:index,staticClass:\"wrapper\"},[(!item.ownMessage)?_c('div',{staticClass:\"group-chat friend-chat\"},[_c('div',{staticClass:\"mr-3\"},[_c('div',{staticClass:\"avatar\",style:({ backgroundImage: (\"url(\" + (item.userInfo && item.userInfo.avatar ? item.userInfo.avatar : _vm.NoAvatar) + \")\") })}),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(item.isToday && item.createdAt ? item.createdAt.slice(10,16) : item.createdAt.slice(0,5) + ' -' + item.createdAt.slice(10,16)))])]),(item.type !== 'sticker')?_c('div',{staticClass:\"chat\"},[(item.image && item.type == 'image')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.image}}):_vm._e(),_c('div',[_vm._v(_vm._s(item.content))])]):_c('div',{staticClass:\"sticker\"},[(item.image && item.type == 'sticker')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.image}}):_vm._e()])]):_c('div',{staticClass:\"group-chat own-chat\"},[(item.type !== 'sticker')?_c('div',{staticClass:\"chat\"},[(item.image && item.type == 'image')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.image}}):_vm._e(),_c('div',[_vm._v(_vm._s(item.content))])]):_c('div',{staticClass:\"sticker\"},[(item.image && item.type == 'sticker')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.image}}):_vm._e()]),_c('div',{staticClass:\"time ml-3\"},[_vm._v(_vm._s(item.isToday && item.createdAt ? item.createdAt.slice(10,16) : item.createdAt.slice(0,5) + ' -' + item.createdAt.slice(10,16)))])])])}),0),_c('div',{staticClass:\"footer\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.content),expression:\"formData.content\"},{name:\"validate\",rawName:\"v-validate.immediate\",value:('required'),expression:\"'required'\",modifiers:{\"immediate\":true}}],attrs:{\"placeholder\":\"Nhập tin nhắn văn bản\",\"rows\":\"2\",\"name\":\"contentChat\"},domProps:{\"value\":(_vm.formData.content)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.sendMail($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"content\", $event.target.value)}}}),_c('div',{staticClass:\"position-relative\"},[_c('div',{staticClass:\"dropdown-menu uploadChat\",class:{ show : _vm.modalImageChat}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'times']},on:{\"click\":_vm.removeImage}}),_c('div',{staticClass:\"dropdown-item\"},[_c('div',{staticClass:\"image-chat shake\",style:({ backgroundImage: (\"url(\" + _vm.path + \")\") })})])],1)]),_c('div',{staticClass:\"position-relative\"},[_c('div',{staticClass:\"dropdown-menu sticker\",class:{ show : _vm.modalSticker}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'chevron-down']},on:{\"click\":_vm.closeModalStickerChat}}),_c('div',{staticClass:\"dropdown-item\"},[_c('el-tabs',{staticClass:\"w-100\"},_vm._l((_vm.stickerList),function(item,index){return _c('el-tab-pane',{key:index},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"mr-2\"},[_vm._v(_vm._s(item.name))]),_c('img',{staticClass:\"img-fluid tab-image\",attrs:{\"src\":item.image}})])]),_c('div',{staticClass:\"row\"},_vm._l((item.sticker),function(icon,key){return _c('div',{key:key,staticClass:\"col-md-3\"},[(icon.image)?_c('div',{staticClass:\"group-stickers\",style:({ backgroundImage: (\"url(\" + (icon.image) + \")\") }),on:{\"click\":function($event){return _vm.sendSticker(icon.image)}}}):_vm._e()])}),0)])}),1)],1)],1)]),_c('a',{staticClass:\"btn btn-chat stiker\",on:{\"click\":_vm.handleModalSticker}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'smile-wink']}})],1),_c('label',{staticClass:\"btn btn-chat image\",attrs:{\"for\":\"uploadImageChat\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'image']}}),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"uploadImageChat\"},on:{\"change\":_vm.handleFileUpload}})],1),_c('button',{staticClass:\"btn btn-chat mail\",attrs:{\"disabled\":_vm.errors.items.length > 0},on:{\"click\":_vm.sendMail}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'paper-plane']}})],1)])]),_c('div',{class:_vm.rightInfo == false ? 'group-infoBox' : 'group-infoBox active'},[_c('div',[_c('div',{staticClass:\"avatar\",style:({ backgroundImage: (\"url(\" + (_vm.userInfoOfConversation && _vm.userInfoOfConversation.avatar ? _vm.userInfoOfConversation.avatar : _vm.NoAvatar) + \")\") })}),_c('div',{staticClass:\"email\"},[_vm._v(_vm._s(_vm.userInfoOfConversation && _vm.userInfoOfConversation.fullName ? _vm.userInfoOfConversation.fullName : \"\"))]),_c('div',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.userInfoOfConversation && _vm.userInfoOfConversation.phoneNumber ? _vm.userInfoOfConversation.phoneNumber : ''))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div :class=\"rightInfo == false ? 'group-chatBox' : 'group-chatBox active'\">\r\n            <div class=\"header\">\r\n                <div>{{ userInfoOfConversation && userInfoOfConversation.fullName ? userInfoOfConversation.fullName : \"\" }}</div>\r\n                <div class=\"collapse-option\">\r\n                    <a @click=\"collapse\">\r\n                        <font-awesome-icon :icon=\"['fas', 'arrow-circle-right']\" :class=\"{ show : rightInfo == false}\"/>\r\n                        <font-awesome-icon :icon=\"['fas', 'arrow-circle-left']\" :class=\"{ show : rightInfo == true}\"/>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class=\"content\" ref=\"containerChat\" @click=\"readMessage\">\r\n                <div class=\"wrapper\" v-for=\"(item,index) in userChat\" :key=\"index\">\r\n                    <div class=\"group-chat friend-chat\" v-if=\"!item.ownMessage\">\r\n                        <div class=\"mr-3\">\r\n                            <div class=\"avatar\" :style=\"{ backgroundImage: `url(${ item.userInfo && item.userInfo.avatar ? item.userInfo.avatar : NoAvatar})` }\"></div>\r\n                            <div class=\"time\">{{ item.isToday && item.createdAt ? item.createdAt.slice(10,16) : item.createdAt.slice(0,5) + ' -' + item.createdAt.slice(10,16) }}</div>\r\n                        </div>\r\n                        <div class=\"chat\" v-if=\"item.type !== 'sticker'\">\r\n                            <img :src=\"item.image\" v-if=\"item.image && item.type == 'image'\" class=\"img-fluid\"/>\r\n                            <div>{{item.content}}</div>\r\n                        </div>\r\n                        <div class=\"sticker\" v-else>\r\n                            <img :src=\"item.image\" v-if=\"item.image && item.type == 'sticker'\" class=\"img-fluid\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"group-chat own-chat\" v-else>\r\n                        <div class=\"chat\" v-if=\"item.type !== 'sticker'\">\r\n                            <img :src=\"item.image\" v-if=\"item.image && item.type == 'image'\" class=\"img-fluid\"/>\r\n                            <div>{{item.content}}</div>\r\n                        </div>\r\n                         <div class=\"sticker\" v-else>\r\n                            <img :src=\"item.image\" v-if=\"item.image && item.type == 'sticker'\" class=\"img-fluid\"/>\r\n                        </div>\r\n                        <div class=\"time ml-3\">{{ item.isToday && item.createdAt ? item.createdAt.slice(10,16) : item.createdAt.slice(0,5) + ' -' + item.createdAt.slice(10,16) }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"footer\">\r\n                <textarea placeholder=\"Nhập tin nhắn văn bản\" rows=\"2\" v-model=\"formData.content\" @keyup.enter.prevent=\"sendMail\" name=\"contentChat\" v-validate.immediate=\"'required'\"></textarea>\r\n                <div class=\"position-relative\">\r\n                    <div class=\"dropdown-menu uploadChat\" :class=\"{ show : modalImageChat}\">\r\n                        <font-awesome-icon :icon=\"['fas', 'times']\"  @click=\"removeImage\"/>\r\n                        <div class=\"dropdown-item\">\r\n                            <div class=\"image-chat shake\" :style=\"{ backgroundImage: `url(${path})` }\" ></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"position-relative\">\r\n                    <div class=\"dropdown-menu sticker\" :class=\"{ show : modalSticker}\">\r\n                        <font-awesome-icon :icon=\"['fas', 'chevron-down']\"  @click=\"closeModalStickerChat\"/>\r\n                        <div class=\"dropdown-item\">\r\n                            <el-tabs class=\"w-100\">\r\n                                <el-tab-pane v-for=\"(item, index) in stickerList\" :key=\"index\">\r\n                                    <span slot=\"label\">\r\n                                        <div class=\"d-flex justify-content-between align-items-center\">\r\n                                            <div class=\"mr-2\">{{ item.name }}</div>\r\n                                            <img :src=\"item.image\" class=\"img-fluid tab-image\"/>\r\n                                        </div>\r\n                                    </span>\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-3\" v-for=\"(icon, key) in item.sticker\" :key=\"key\">\r\n                                            <div class=\"group-stickers\" :style=\"{ backgroundImage: `url(${icon.image})` }\" v-if=\"icon.image\" @click=\"sendSticker(icon.image)\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </el-tab-pane>\r\n                            </el-tabs>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <a class=\"btn btn-chat stiker\" @click=\"handleModalSticker\">\r\n                    <font-awesome-icon :icon=\"['fas', 'smile-wink']\" />\r\n                </a>\r\n                <label for=\"uploadImageChat\" class=\"btn btn-chat image\">\r\n                    <font-awesome-icon :icon=\"['fas', 'image']\" />\r\n                    <input type=\"file\" id=\"uploadImageChat\" style=\"display:none\" @change=\"handleFileUpload\">\r\n                </label>\r\n                <button class=\"btn btn-chat mail\" @click=\"sendMail\" :disabled=\"errors.items.length > 0\">\r\n                    <font-awesome-icon :icon=\"['fas', 'paper-plane']\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div :class=\"rightInfo == false ? 'group-infoBox' : 'group-infoBox active'\">\r\n            <div>\r\n                <div class=\"avatar\" :style=\"{ backgroundImage: `url(${ userInfoOfConversation && userInfoOfConversation.avatar ? userInfoOfConversation.avatar : NoAvatar})` }\"></div>\r\n                <div class=\"email\">{{ userInfoOfConversation && userInfoOfConversation.fullName ? userInfoOfConversation.fullName : \"\" }}</div>\r\n                <div class=\"number\">{{ userInfoOfConversation && userInfoOfConversation.phoneNumber ? userInfoOfConversation.phoneNumber : ''}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NoAvatar from \"../../../assets/imgs/no-images.jpg\";\r\nimport { mapState, mapGetters } from \"vuex\";\r\nexport default {\r\n    components: {},\r\n    data() {\r\n        return {\r\n            NoAvatar,\r\n            rightInfo: true,\r\n            formData: {\r\n                content: \"\",\r\n                type: \"text\",\r\n                isDelete: false,\r\n                conversationId: \"\",\r\n                image: null\r\n            },\r\n            file: null,\r\n            path: null,\r\n            modalSticker: false,\r\n            modalImageChat: false,\r\n            modalStickerChat: false\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            conversationId: state => state.$_conversation.conversationId,\r\n            userInfoOfConversation: state => state.$_conversation.userInfoConversation,\r\n        }),\r\n        ...mapGetters({\r\n            stickerList: \"$_conversation/getStickerList\",\r\n            dataConversation: \"$_conversation/getListConversation\",\r\n        }),\r\n    },\r\n    methods:{\r\n        async readMessage(){\r\n            var _this = this;\r\n            var conversation = _this.dataConversation.find( o => o.id === _this.conversationId);\r\n            if( conversation.latestMessenger !== localStorage.getItem(\"userId\") && conversation.isRead === false ){\r\n                await _this.$store.dispatch(\"$_conversation/readNewMessage\", conversation.id);\r\n                await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n            }\r\n        },\r\n        collapse(){\r\n            var _this = this;\r\n            _this.rightInfo = ! _this.rightInfo;\r\n        },\r\n        scrollTop(){\r\n            var _this = this;\r\n            var container = _this.$refs.containerChat;\r\n            container.scrollTop = container.scrollHeight;\r\n        },\r\n        handleModalSticker(){\r\n            var _this = this;\r\n            _this.modalSticker = true;\r\n            _this.modalImageChat = false;\r\n            _this.removeImage();\r\n        },\r\n        closeModalStickerChat(){\r\n            var _this = this;\r\n            _this.modalSticker = false;\r\n        },\r\n        async sendMail(){\r\n            var _this = this;\r\n            await _this.$validator.validateAll().then(async result => {\r\n                if (result) {\r\n                    try{\r\n                        _this.formData.conversationId = _this.conversationId;\r\n                        await _this.$store.dispatch(\"$_conversation/sendMessage\", _this.formData);\r\n                        await _this.$store.dispatch(\"$_loginPage/sendSocket\", ({ userInput: _this.userInfoOfConversation.id, messageInput: _this.formData.content, functionInput: \"$_conversation/getConversationDetail\", paramsInput: _this.conversationId, typeInput: \"sendTextMessage\" }));\r\n                        await _this.$store.dispatch(\"$_conversation/getConversationDetail\", _this.conversationId);\r\n                        await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n                        _this.formData.content = \"\";\r\n                        if(_this.formData.type === 'image'){\r\n                            _this.formData.type = 'text';\r\n                            _this.modalImageChat = false;\r\n                        }\r\n                        _this.formData.image = null;\r\n                    }\r\n                    catch(error){\r\n                        console.log(error);\r\n                    }\r\n                }\r\n            });\r\n    \r\n        },\r\n        async sendSticker(val){\r\n            var _this = this;\r\n            try{\r\n                _this.formData.conversationId = _this.conversationId;\r\n                _this.formData.image = val;\r\n                _this.formData.type = \"sticker\";\r\n                await _this.$store.dispatch(\"$_conversation/sendMessage\", _this.formData);\r\n                await _this.$store.dispatch(\"$_loginPage/sendSocket\", ({ userInput: _this.userInfoOfConversation.id, messageInput: _this.formData.content, functionInput: \"$_conversation/getConversationDetail\", paramsInput: _this.conversationId, typeInput: \"sendTextMessage\" }));\r\n                await _this.$store.dispatch(\"$_conversation/getConversationDetail\", _this.conversationId);\r\n                await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n                _this.formData.type = 'text';\r\n                _this.formData.image = null;\r\n                _this.modalStickerChat = false;\r\n            }\r\n            catch(error){\r\n                console.log(error);\r\n            }\r\n        },\r\n        async handleFileUpload(e) {\r\n            var _this = this;\r\n            _this.file = e.target.files[0];\r\n            if (_this.file) {\r\n                var response = await this.$store.dispatch(\"$_conversation/uploadImage\", _this.file);\r\n                if (response && response.path) {\r\n                _this.path = response.path;\r\n                _this.formData.type = 'image';\r\n                _this.formData.image = _this.path;\r\n                _this.modalImageChat = true;\r\n                _this.modalSticker = false;\r\n                }\r\n            } else {\r\n                this.$notify.error({\r\n                title: \"Thất bại\",\r\n                message: \"Ảnh k đúng định dạng\",\r\n                });\r\n            }\r\n        },\r\n        removeImage(){\r\n            var _this = this;\r\n            _this.file = '',\r\n            _this.path = '';\r\n            _this.formData.type = 'text';\r\n            _this.formData.image = null;\r\n            _this.modalImageChat = false;\r\n        }\r\n    },\r\n    updated () {\r\n        var _this = this;\r\n        _this.scrollTop(); \r\n    },\r\n    mounted () {\r\n        var _this = this;\r\n        _this.scrollTop();\t\r\n    },\r\n    props:['userChat']\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chatBox.vue?vue&type=template&id=73e56a84&\"\nimport script from \"./chatBox.vue?vue&type=script&lang=js&\"\nexport * from \"./chatBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-3 pr-0 page-content\">\r\n        <conversation-list :list-conversation=\"dataConversation\" :list-user=\"userList\"></conversation-list>\r\n      </div>\r\n      <div class=\"col-9 pl-0 page-content\">\r\n        <chat-box :user-chat=\"conversationDetail\"></chat-box>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters } from \"vuex\";\r\nimport commonData from '../../utils/common-data';\r\nimport store from \"./_store\";\r\nimport ConversationList from './_components/conversationList'\r\nimport ChatBox from './_components/chatBox'\r\n// import _ from 'lodash';\r\nexport default {\r\n  components: {\r\n    'conversation-list': ConversationList,\r\n    'chat-box': ChatBox\r\n  },\r\n  data() {\r\n    return {\r\n      commonData,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      searchRequest: state => state.$_conversation.searchRequest,\r\n    }),\r\n    ...mapGetters({\r\n        conversationDetail: \"$_conversation/getConversationDetail\",\r\n        dataConversation: \"$_conversation/getListConversation\",\r\n        userList: \"$_conversation/getUserList\",\r\n    }),\r\n  },\r\n  async created() {\r\n    var _this = this;\r\n    const STORE_KEY = \"$_conversation\";\r\n    if (!(STORE_KEY in this.$store._modules.root._children)) {\r\n      _this.$store.registerModule(STORE_KEY, store);\r\n    }\r\n    await _this.$store.dispatch(\"$_conversation/getUserList\");\r\n    await _this.$store.dispatch(\"$_conversation/getListConversation\");\r\n    await _this.$store.dispatch(\"$_conversation/getStickerList\");\r\n    if(localStorage.getItem(\"conversationId\") && localStorage.getItem(\"userInfoOfConversation\")){\r\n      await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", JSON.parse(localStorage.getItem(\"userInfoOfConversation\")));\r\n      await _this.$store.dispatch(\"$_conversation/getConversationDetail\", localStorage.getItem(\"conversationId\"));\r\n    }\r\n    else{\r\n      if(_this.dataConversation && _this.dataConversation.length){\r\n        localStorage.setItem(\"userInfoOfConversation\", JSON.stringify(_this.dataConversation[0].userInfo));\r\n        await _this.$store.dispatch(\"$_conversation/setUserInfoConversation\", _this.dataConversation[0].userInfo);\r\n        await _this.$store.dispatch(\"$_conversation/getConversationDetail\", _this.dataConversation[0].id);\r\n      }\r\n    }\r\n  },\r\n  methods: {},\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=58f7327f&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <nav-menu params=\"route: route\"></nav-menu>\r\n    <div class=\"container-fluid my-3\">\r\n      <Conversation />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavMenu from \"../components/nav-bar\";\r\nimport Conversation from \"../modules/conversation\";\r\nexport default {\r\n  name: \"conversation\",\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    Conversation,\r\n    \"nav-menu\": NavMenu\r\n  },\r\n  methods: {\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conversation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conversation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./conversation.vue?vue&type=template&id=b13882e6&\"\nimport script from \"./conversation.vue?vue&type=script&lang=js&\"\nexport * from \"./conversation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}